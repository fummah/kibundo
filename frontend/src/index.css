/* ---------- Framework imports ---------- */
/* Ant Design reset first */
@import "antd/dist/reset.css";

/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Custom fonts ---------- */
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-ExtraLight.ttf") format("truetype");
  font-weight: 200;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-ExtraLightItalic.ttf") format("truetype");
  font-weight: 200;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-Light.ttf") format("truetype");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-LightItalic.ttf") format("truetype");
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-Italic.ttf") format("truetype");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-Medium.ttf") format("truetype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-MediumItalic.ttf") format("truetype");
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-SemiBold.ttf") format("truetype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-SemiBoldItalic.ttf") format("truetype");
  font-weight: 600;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-Bold.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-BoldItalic.ttf") format("truetype");
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-ExtraBold.ttf") format("truetype");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-ExtraBoldItalic.ttf") format("truetype");
  font-weight: 800;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-Black.ttf") format("truetype");
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Nunito";
  src: url("./assets/Font/Nunito/static/Nunito-BlackItalic.ttf") format("truetype");
  font-weight: 900;
  font-style: italic;
  font-display: swap;
}

/* ---------- Global base styles ---------- */
html, body, #root {
  height: 100%;
}

html {
  color-scheme: light dark;
}

body {
  font-family: "Nunito", "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background-color: #ffffff;
  color: #111827;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  transition: background-color .2s ease, color .2s ease;

  /* âœ… Allow scroll globally (we lock it only inside framed shells) */
  overflow: auto;
}

/* Dark mode base */
.dark body {
  background-color: #0f172a; /* slate-900 */
  color: #e5e7eb; /* gray-200 */
}

/* ---------- Invisible-yet-scrollable helper ---------- */
/* Use on inner containers like the framed screen or chat layer */
.scroll-y-invisible {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;        /* Firefox */
  -ms-overflow-style: none;     /* IE/old Edge */
}
.scroll-y-invisible::-webkit-scrollbar {
  width: 0 !important;
  height: 0 !important;
  background: transparent !important;
}
.scroll-y-invisible {
  scrollbar-color: transparent transparent !important;
}

/* ---------- Nice scrollbars (default globally) ---------- */
/* These appear everywhere EXCEPT when .scroll-y-invisible is used */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(0,0,0,0.25) transparent;
}
*::-webkit-scrollbar { width: 8px; height: 8px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb {
  background-color: rgba(0,0,0,0.25);
  border-radius: 999px;
}
.dark *::-webkit-scrollbar-thumb {
  background-color: rgba(255,255,255,0.25);
}

/* ---------- Ant Design rounding & soft UI ---------- */
.ant-card { border-radius: 1rem !important; }
.ant-input,
.ant-input-affix-wrapper,
.ant-btn { border-radius: .9rem; }
.ant-select .ant-select-selector { border-radius: .9rem !important; }
.ant-modal-content { border-radius: 1rem; }

/* ---------- Form labels - prevent text transform ---------- */
.ant-form-item-label > label {
  text-transform: none !important;
}

/* ---------- Form item control input min-height ---------- */
.ant-form-item-control-input {
  min-height: 52px !important;
}

/* ---------- Smooth transitions to prevent flicker ---------- */
.ant-card {
  transition: opacity 0.15s ease-in-out;
}

.ant-tabs-content {
  transition: opacity 0.1s ease-in-out;
}

/* ---------- Responsive helpers ---------- */
.mobile-only { display: block; }
.desktop-only { display: none; }

@media (min-width: 700px) {
  .mobile-only { display: none !important; }
  .desktop-only { display: block !important; }
}

/* ---------- Bottom tab bar safe-area ---------- */
.bottom-tabs {
  padding-bottom: calc(env(safe-area-inset-bottom, 0) + 0.5rem);
}

/* ---------- Keep header above modal ---------- */
.global-header {
  position: sticky;
  top: 0;
  z-index: 3000;
}

/* ---------- Add Student modal (compact with scroll) ---------- */
.add-student-modal .ant-modal      { top: 4rem !important; }
.add-student-modal .ant-modal-mask { top: 4rem !important; }
.add-student-modal .ant-modal-content { 
  max-height: calc(70vh - 4rem);
}
.add-student-modal .ant-modal-body {
  max-height: calc(70vh - 4rem);
  overflow-y: auto;
}

/* Clean hero look for intro step */
.add-student-intro .ant-modal-header { display: none; }
.add-student-intro .ant-modal-body   { padding: 0; }

/* Ensure AntD messages appear above all other UI */
.ant-message {
  z-index: 9999 !important;
}
